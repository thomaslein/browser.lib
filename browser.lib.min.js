/*BUILT Mon Feb 18 2013 19:44:44 GMT+0100 (CET)*/
require.register("util.polyfill/index",'Array.prototype.indexOf||(Array.prototype.indexOf=function(t){for(var e=e=0,i=this.length;i>e;e++)if(t===this[e])return e;return-1});for(var vendors=["ms","moz","webkit","o"],lastFrameTime=null,i=0,n=vendors.length;n>i;i++)vendor=vendors[i],window.requestAnimationFrame||(window.requestAnimationFrame=window[vendor+"RequestAnimationFrame"],window.cancelAnimationFrame=window[vendor+"CancelAnimationFrame"]||window[vendor+"CancelRequestAnimationFrame"]);window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var e,i,n,s=+new Date;return null==lastFrameTime&&(lastFrameTime=s),i=Math.max(0,16-(s-lastFrameTime)),e=window.setTimeout(function(){t(s+i)},i),n=s+i,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)});'),require.register("util.animate/index",'function animate(t,e){var i=pool.length?pool.pop():new Anim;return i.id=uid++,i.target=t,i.keep=null!=e?e:!1,i}function add(t){anims[t.id]||(anims[t.id]=t,t.isRunning=!0,length++,running||(running=!0,tick=0,last=+new Date,_onTick()))}function remove(t){t.isRunning=!1,delete anims[t.id],length--,length||(running=!1)}function destroy(t){t.id&&(t.isRunning&&remove(t),t.id=null,t.target=null,t.duration=0,t.elapsed=0,t.properties={},t.easing=easing.outCubic,t.tickCallbacks=[],t.completeCallbacks=[],t.keep=!1,t.isRunning=!1,t.useCssTransitions=!1,t.transitionStyle="",pool.push(t))}function _onTick(){var t=+new Date,e=t-last;last=t;for(var i in anims)anims[i]._render(e);running&&win.requestAnimationFrame(_onTick)}function Anim(){this._render=bind(this._render,this),this.id=null,this.target=null,this.duration=0,this.elapsed=0,this.properties={},this.easing=easing.outCubic,this.tickCallbacks=[],this.completeCallbacks=[],this.isRunning=!1,this.keep=!1,this.useCssTransitions=!1,this.transitionStyle=""}var polyfill=require("util.polyfill"),easing=require("util.easing"),objectUtils=require("util.object"),css=require("dom.css"),win=window,doc=win.document,FRAME_RATE=60,DEFAULT_DURATION=.5,anims={},length=0,pool=[],uid=1,tick=0,last=0,running=!1,csstransitions=css.csstransitions,bind=function(t,e){return function(){return t.apply(e,arguments)}};module.exports=animate,Anim.prototype.to=function(t,e,i){var s,n,r,a,l;null==e&&(e=DEFAULT_DURATION),null!=i&&(this.easing=easing[i]),this.duration=1e3*e,this.elapsed=0,this.properties={},this.useCssTransitions=!1;for(var o in t)l=t[o],r={start:0,current:0,end:l,type:0},objectUtils.isFunction(this.target[o])?(r.start=this.target[o](),r.type=1):o in this.target?(r.start=this.target[o],r.type=2):(s=css.getNumericStyle(this.target,o),r.start=s[0],objectUtils.isString(l)?(n=css.parseNumber(l,o),r.unit=n[1],r.end=n[0]):(r.unit=s[1],r.end=l),csstransitions?(this.useCssTransitions||(a=(this.target.getAttribute("style")||"").length,css.setStyle(this.target,{"transition-property":"all","transition-duration":""+this.duration+"ms"}),i&&css.setStyle(this.target,"transition-timing-function",easing.css[i]),this.transitionStyle=this.target.getAttribute("style").slice(a),this.useCssTransitions=!0),r.type=4,css.setStyle(this.target,o,r.end+r.unit)):r.type=3),this.properties[o]=r;return add(this),this},Anim.prototype.getProperty=function(t){if(this.isRunning){var e=this.properties[t];return null!=e?e.current:null}},Anim.prototype.setProperty=function(t,e){if(this.isRunning){var i=this.properties[t];null!=i&&(i.end=e)}},Anim.prototype.onTick=function(t){var e=arguments.length>=2?Array.slice.call(arguments,1):[];return this.tickCallbacks.push({func:t,args:e}),this},Anim.prototype.onComplete=function(t){var e=arguments.length>=2?Array.slice.call(arguments,1):[];return this.completeCallbacks.push({func:t,args:e}),this},Anim.prototype.stop=function(){this.isRunning&&(this.keep?remove(this):destroy(this))},Anim.prototype.destroy=function(){return destroy(this),null},Anim.prototype._render=function(t){var e,i,s,n,r,a,l,o=this.properties;this.elapsed+=t,r=this.elapsed<this.duration?this.elapsed:this.duration;for(var u in o)if(a=o[u],4>a.type)switch(e=a.start,i=a.end-e,l=a.current=this.easing(r,e,i,this.duration),a.type){case 1:this.target[u](l);break;case 2:this.target[u]=l;break;case 3:css.setStyle(this.target,u,""+l+a.unit)}if(this.tickCallbacks.length)if(1==this.tickCallbacks.length)this.tickCallbacks[0].func.apply(null,this.tickCallbacks[0].args);else{n=this.tickCallbacks;for(var p=0,c=n.length;c>p;p++)s=n[p],s.func.apply(null,s.args)}this.elapsed>=this.duration&&(this.useCssTransitions&&(this.target.setAttribute("style",this.target.getAttribute("style").replace(this.transitionStyle,"")),this.useCssTransitions=!1,this.transitionStyle=""),n=this.completeCallbacks.slice(),this.tickCallbacks=[],this.completeCallbacks=[],this.properties={},this.keep?remove(this):destroy(this),n.length&&win.requestAnimationFrame(function(){if(1===n.length)n[0].func.apply(null,n[0].args);else for(var t=0,e=n.length;e>t;t++)s.func.apply(null,n[t].args);n=null}))};'),require.register("util.colour/index",'exports.toComponent=function(e){if(e=e.replace(/[#\\s]/g,""),/^rgb/.test(e)){var r=/^rgb\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,t=r.exec(e);return{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}}return 6===e.length?(r=/^(\\w{2})(\\w{2})(\\w{2})$/,t=r.exec(e),{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}):3===e.length?(r=/^(\\w{1})(\\w{1})(\\w{1})$/,t=r.exec(e),{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16)}):void 0},exports.rgba=function(e,r){var t;return t=exports.toComponent(e),"rgba("+t.r+","+t.g+","+t.b+","+r+")"};'),require.register("util.easing/index",'exports.css={},exports.css.linear="cubic-bezier(0.250, 0.250, 0.750, 0.750)",exports.linear=function(t,e,i,n){return i*t/n+e},exports.css.inQuad="cubic-bezier(0.550, 0.085, 0.680, 0.530)",exports.inQuad=function(t,e,i,n){return i*(t/=n)*t+e},exports.css.outQuad="cubic-bezier(0.250, 0.460, 0.450, 0.940)",exports.outQuad=function(t,e,i,n){return-i*(t/=n)*(t-2)+e},exports.inOutQuad=function(t,e,i,n){return 1>(t/=n/2)?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},exports.css.inCubic="cubic-bezier(0.550, 0.055, 0.675, 0.190)",exports.inCubic=function(t,e,i,n){return i*(t/=n)*t*t+e},exports.css.outCubic="cubic-bezier(0.215, 0.610, 0.355, 1.000)",exports.outCubic=function(t,e,i,n){return i*((t=t/n-1)*t*t+1)+e},exports.inOutCubic=function(t,e,i,n){return 1>(t/=n/2)?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},exports.css.inQuart="cubic-bezier(0.895, 0.030, 0.685, 0.220)",exports.inQuart=function(t,e,i,n){return i*(t/=n)*t*t*t+e},exports.css.outQuart="cubic-bezier(0.165, 0.840, 0.440, 1.000)",exports.outQuart=function(t,e,i,n){return-i*((t=t/n-1)*t*t*t-1)+e},exports.css.inOutQuart="cubic-bezier(0.770, 0.000, 0.175, 1.000)",exports.inOutQuart=function(t,e,i,n){return 1>(t/=n/2)?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},exports.css.inQuint="cubic-bezier(0.755, 0.050, 0.855, 0.060)",exports.inQuint=function(t,e,i,n){return i*(t/=n)*t*t*t*t+e},exports.css.outQuint="cubic-bezier(0.230, 1.000, 0.320, 1.000)",exports.outQuint=function(t,e,i,n){return i*((t=t/n-1)*t*t*t*t+1)+e},exports.css.inOutQuint="cubic-bezier(0.860, 0.000, 0.070, 1.000)",exports.inOutQuint=function(t,e,i,n){return 1>(t/=n/2)?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},exports.css.inSine="cubic-bezier(0.470, 0.000, 0.745, 0.715)",exports.inSine=function(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e},exports.css.outSine="cubic-bezier(0.390, 0.575, 0.565, 1.000)",exports.outSine=function(t,e,i,n){return i*Math.sin(t/n*(Math.PI/2))+e},exports.css.inOutSine="cubic-bezier(0.445, 0.050, 0.550, 0.950)",exports.inOutSine=function(t,e,i,n){return-i/2*(Math.cos(Math.PI*t/n)-1)+e},exports.css.inExpo="cubic-bezier(0.950, 0.050, 0.795, 0.035)",exports.inExpo=function(t,e,i,n){return 0===t?e:i*Math.pow(2,10*(t/n-1))+e},exports.css.outExpo="cubic-bezier(0.190, 1.000, 0.220, 1.000)",exports.outExpo=function(t,e,i,n){return t===n?e+i:i*(-Math.pow(2,-10*t/n)+1)+e},exports.css.inOutExpo="cubic-bezier(1.000, 0.000, 0.000, 1.000)",exports.inOutExpo=function(t,e,i,n){return 0===t?e:t===n?e+i:1>(t/=n/2)?i/2*Math.pow(2,10*(t-1))+e:i/2*(-Math.pow(2,-10*--t)+2)+e},exports.css.inCirc="cubic-bezier(0.600, 0.040, 0.980, 0.335)",exports.inCirc=function(t,e,i,n){return-i*(Math.sqrt(1-(t/=n)*t)-1)+e},exports.css.outCirc="cubic-bezier(0.075, 0.820, 0.165, 1.000)",exports.outCirc=function(t,e,i,n){return i*Math.sqrt(1-(t=t/n-1)*t)+e},exports.css.outCirc="cubic-bezier(0.785, 0.135, 0.150, 0.860)",exports.inOutCirc=function(t,e,i,n){return 1>(t/=n/2)?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},exports.inElastic=function(t,e,i,n){var r,s,o;return 0===t?e:1===(t/=n)?e+i:(s||(s=.3*n),!r||Math.abs(i)>r?(r=i,o=s/4):o=s/(2*Math.PI)*Math.asin(i/r),-(r*Math.pow(2,10*(t-=1))*Math.sin((t*n-o)*2*Math.PI/s))+e)},exports.outElastic=function(t,e,i,n){var r,s,o;return 0===t?e:1===(t/=n)?e+i:(s||(s=.3*n),!r||Math.abs(i)>r?(r=i,o=s/4):o=s/(2*Math.PI)*Math.asin(i/r),r*Math.pow(2,-10*t)*Math.sin((t*n-o)*2*Math.PI/s)+i+e)},exports.inOutElastic=function(t,e,i,n){var r,s,o;return 0===t?e:2===(t/=n/2)?e+i:(s||(s=n*.3*1.5),!r||Math.abs(i)>r?(r=i,o=s/4):o=s/(2*Math.PI)*Math.asin(i/r),1>t?-.5*r*Math.pow(2,10*(t-=1))*Math.sin((t*n-o)*2*Math.PI/s)+e:.5*r*Math.pow(2,-10*(t-=1))*Math.sin((t*n-o)*2*Math.PI/s)+i+e)},exports.css.inBack="cubic-bezier(0.600, -0.280, 0.735, 0.045)",exports.inBack=function(t,e,i,n,r){return null!=r&&(r=1.70158),i*(t/=n)*t*((r+1)*t-r)+e},exports.css.outBack="cubic-bezier(0.175, 0.885, 0.320, 1.275)",exports.outBack=function(t,e,i,n,r){return null!=r&&(r=1.70158),i*((t=t/n-1)*t*((r+1)*t+r)+1)+e},exports.css.inOutBack="cubic-bezier(0.680, -0.550, 0.265, 1.550)",exports.inOutBack=function(t,e,i,n,r){return null!=r&&(r=1.70158),1>(t/=n/2)?i/2*t*t*(((r*=1.525)+1)*t-r)+e:i/2*((t-=2)*t*(((r*=1.525)+1)*t+r)+2)+e},exports.inBounce=function(t,e,i,n){return i-exports.outBounce(x,n-t,0,i,n)+e},exports.outBounce=function(t,e,i,n){return 1/2.75>(t/=n)?i*7.5625*t*t+e:2/2.75>t?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:2.5/2.75>t?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},exports.inOutBounce=function(t,e,i,n){return n/2>t?.5*exports.inBounce(x,2*t,0,i,n)+e:.5*exports.outBounce(x,2*t-n,0,i,n)+.5*i+e};'),require.register("util.log/index",'var initialized=!1,timestamp=!0,locations="^http(|s)://dev|^http(|s)://localhost";exports.init=function(t){return null!=t&&(timestamp=t.timestamp||timestamp,locations=t.locations&&RegExp(locations+"|"+t.locations.join("|"),"i"),window.debug=!!document.location.href.match(locations)||!!document.location.hash.match(/debug/),window.log=window.debug?exports.log:function(){}),initialized=!0},exports.log=function(){var t=arguments.length>=1?Array.slice.call(arguments,0):[];if(initialized||exports.init(),window.debug)try{var e=new Date,i=timestamp?""+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+":"+e.getMilliseconds():"";window.console&&console.log(i,t)}catch(n){}};'),require.register("util.number/index","exports.TWO_PI=function(){return 2*Math.PI}(),exports.HALF_PI=function(){return.5*Math.PI}(),exports.degreesToRadians=function(t){return t*Math.PI/180},exports.radiansToDegrees=function(t){return 180*t/Math.PI};var normalize=exports.normalize=function(t,e,i){return e===i?1:(t-e)/(i-e)},interplate=exports.interpolate=function(t,e,i){return e+(i-e)*t},map=exports.map=function(t,e,i,n,r){return interplate(normalize(t,e,i),n,r)},limit=exports.limit=function(t,e,i){return Math.min(Math.max(e,t),i)},rangedRandom=exports.rangedRandom=function(t,e){return map(Math.random(),0,1,t,e)};"),require.register("util.object/index",'exports.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},exports.isObject=function(t){return t===Object(t)&&void 0==t.nodeType},exports.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},exports.isNumber=function(t){return"[object Number]"===Object.prototype.toString.call(t)},exports.isFunction=function(t){return"[object Function]"===Object.prototype.toString.call(t)},exports.isNaN=function(t){return t!==t},exports.isElement=function(t){return!(1!==(null!=t?t.nodeType:null))},exports.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===Object.prototype.toString.call(t)},exports.extend=function(t){for(var e,n=arguments.length>=2?Array.prototype.slice.call(arguments,1):[],i=0,r=n.length;r>i;i++){e=n[i];for(var s in e)t[s]=e[s]}return t},exports.objectify=function(t,e){var n={};return n[t]=e,n};'),require.register("dom.classlist/index",'require("util.polyfill");var RE_TRIM=/^\\s+|\\s+$/g;exports.hasClass=function(t,e){if(null!=t.classList)return t.classList.contains(e);var n=t.className.replace(RE_TRIM,"").split(" ");return n.indexOf(e)>=0},exports.matchClass=function(t,e){for(var n,i=t.className.replace(RE_TRIM,"").split(" "),r=0,s=i.length;s>r;r++)if(n=i[r],-1!==n.indexOf(e))return n;return""},exports.addClass=function(t,e){null!=t.classList?t.classList.add(e):t.className+=" "+e},exports.removeClass=function(t,e){var n;if(e)if(null!=t.classList)t.classList.remove(e);else{for(var n=t.className.replace(RE_TRIM,"").split(" "),i=[],r=0,s=n.length;s>r;r++)n[r]!==e&&i.push(n[r]);t.className=i.join(" ")}},exports.toggleClass=function(t,e){exports.hasClass(t,e)?exports.removeClass(t,e):exports.addClass(t,e)},exports.replaceClass=function(t,e,n){e?n?t.className=t.className.replace(e,n):exports.removeClass(t,e):n&&exports.addClass(t,n)},exports.addTemporaryClass=function(t,e,n){exports.addClass(t,e),setTimeout(function(){exports.removeClass(t,e)},n)};'),require.register("dom.css/index",'function getPrefixed(t){return prefixed.hasOwnProperty(t)&&(prefixed[t]||setPrefixed(t),t=prefixed[t]),t}function setPrefixed(t){var e;defaultStyles[t]&&(prefixed[t]=t);for(var r=0,i=VENDOR_PREFIXES.length;i>r;r++)if(e=VENDOR_PREFIXES[r],!prefixed[t]&&defaultStyles[e+t])return prefixed[t]=e+t,void 0}function getShorthand(t){return null!=shorthand[t]?shorthand[t][0]:t}function expandShorthand(t,e){if(null!=shorthand[t]){for(var r={},i=0,n=shorthand[t].length;n>i;i++)r[shorthand[t][i]]=e;return r}return t}function parseOpacity(t){var e;return""===t?null:"filter"!==opacity?parseFloat(t):(e=t.match(RE_IE_OPACITY),null!=e?parseInt(e[1])/100:void 0)}function getOpacityValue(t){var e=parseFloat(t);return"filter"===opacity&&(e="alpha(opacity="+100*e+")"),e}function parseNumber(t,e){var r,i,n,s;return colour[e]?null!=t&&"#"!==t.charAt(0)?(r=RE_RGB.exec(t),r?["#"+(1<<24|r[1]<<16|r[2]<<8|r[3]).toString(16).slice(1),"hex"]:["#ffffff","hex"]):[t||"#ffffff","hex"]:(i=parseFloat(t),objectUtils.isNaN(i)?[t,""]:(s=RE_UNITS.exec(t),n=null!=s?s[1]:null!=numeric[e]?numeric[e]:"px",[i,n]))}function getStyle(t,e){var r;if("opacity"===e)return parseOpacity(current(t,opacity));switch(e=getPrefixed(getShorthand(e)),r=current(t,e),null==r&&(r=current(t,camelCase(e))),r){case"":return null;case"auto":return 0;default:return r}}function getNumericStyle(t,e){return parseNumber(getStyle(t,e),e)}function setStyle(t,e,r){if(e=expandShorthand(e,r),objectUtils.isObject(e))for(var i in e)setStyle(t,i,e[i]);else"opacity"===e&&(e=opacity,r=getOpacityValue(r)),e=getPrefixed(e),"auto"!==r&&"inherit"!==r&&numeric[e]&&!RE_UNITS.test(r)&&(r+=numeric[e]),t.style[camelCase(e)]=r}function clearStyle(t,e){var r,i,n,s=null!=shorthand[e],o=e;if(e=shorthand[e]||e,objectUtils.isArray(e)){for(var a=0,u=e.length;u>a;a++)prop=e[a],clearStyle(t,prop);if(!s)return;e=o}n=t.getAttribute("style")||"",i=RegExp("\\\\s?"+getPrefixed(e)+":\\\\s[^;]+"),r=i.exec(n),null!=r&&t.setAttribute("style",n.replace(r+";",""))}function current(t,e){return win.getComputedStyle?e?win.getComputedStyle(t).getPropertyValue(e):win.getComputedStyle(t):e?t.currentStyle[e]:t.currentStyle}function camelCase(t){return t.replace(/-([a-z])/g,function(t,e){return e.toUpperCase()}).replace("-","")}var objectUtils=require("util.object"),win=window,doc=win.document,RE_UNITS=/(px|%|em|ms|s)$/,RE_IE_OPACITY=/opacity=(\\d+)/i,RE_RGB=/rgb\\((\\d+),\\s?(\\d+),\\s?(\\d+)\\)/,VENDOR_PREFIXES=["-webkit-","-moz-","-ms-","-o-"],prefixed={"border-bottom-left-radius":!1,"border-bottom-right-radius":!1,"border-top-left-radius":!1,"border-top-right-radius":!1,"box-shadow":!1,transform:!1,"transform-origin":!1,"transform-style":!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,perspective:!1,"perspective-origin":!1},numeric={top:"px",bottom:"px",left:"px",right:"px",width:"px",height:"px","margin-top":"px","margin-bottom":"px","margin-left":"px","margin-right":"px","padding-top":"px","padding-bottom":"px","padding-left":"px","padding-right":"px","border-bottom-left-radius":"px","border-bottom-right-radius":"px","border-top-left-radius":"px","border-top-right-radius":"px","transition-duration":"ms",opacity:"","font-size":"px"},colour={"background-color":"color",color:"color","border-color":"color"},shorthand={"border-radius":["border-bottom-left-radius","border-bottom-right-radius","border-top-left-radius","border-top-right-radius"],"border-color":["border-bottom-color","border-left-color","border-top-color","border-right-color"],margin:["margin-top","margin-right","margin-left","margin-bottom"],padding:["padding-top","padding-right","padding-left","padding-bottom"]},defaultStyles={},s,opacity,getPrefixed,setPrefixed;if(s=current(doc.documentElement),s.length)for(var prop,i=0,n=s.length;n>i;i++)prop=s[i],defaultStyles[prop]=!0;else for(prop in s)defaultStyles[prop]=!0;opacity=!defaultStyles.opacity&&defaultStyles.filter?"filter":"opacity",exports.getPrefixed=getPrefixed,exports.parseNumber=parseNumber,exports.getStyle=getStyle,exports.getNumericStyle=getNumericStyle,exports.setStyle=setStyle,exports.clearStyle=clearStyle,exports.getPrefixed=getPrefixed,exports.setPrefixed=setPrefixed,exports.getShorthand=getShorthand,exports.expandShorthand=expandShorthand,exports.csstransitions=getPrefixed("transition-duration")!==!1;'),require.register("dom.element/index",'function elementFactory(t){for(var e,n,r=0,i=elements.length;i>r;r++)if(n=elements[r],n.domElement===t)return n;return e=new Element(t),elements.push(e),e}function Element(t){this.domElement=t,this.anim=null,this.id=this.domElement.id,this._id=id++,this.tagName=this.domElement.tagName}var classList=require("dom.classlist"),select=require("dom.select"),text=require("dom.text"),css=require("dom.css"),event=require("events.event"),objectUtils=require("util.object"),numberUtils=require("util.number"),animate=require("util.animate"),win=window,doc=win.document,elements=[],id=0;module.exports=function(t,e,n){var r,i;if(null==e&&(e=doc),objectUtils.isString(t))t=select(t,e,n);else if(!objectUtils.isElement(t)&&!objectUtils.isArray(t))return null;if(objectUtils.isArray(t)){i=[];for(var o=0,s=t.length;s>o;o++)r=t[o],objectUtils.isElement(r)&&i.push(elementFactory(r));return i}return null!=t?elementFactory(t):null},Element.prototype.getWidth=function(){return this.domElement.offsetWidth},Element.prototype.setWidth=function(t){return null!=t&&(this.setStyle("width",t),null!=this.domElement.width&&(this.domElement.width=t)),this},Element.prototype.getWidth=function(){return this.domElement.offsetHeight},Element.prototype.height=function(t){return null!=t&&(this.setStyle("height",t),null!=this.domElement.height&&(this.domElement.height=t)),this},Element.prototype.getOpacity=function(){return this.getStyle("opacity")},Element.prototype.setOpacity=function(t){return null!=t&&this.setStyle("opacity",numberUtils.limit(parseFloat(t),0,1)),this},Element.prototype.getOffset=function(){return{top:this.domElement.offsetTop,left:this.domElement.offsetLeft}},Element.prototype.getPosition=function(){var t,e=this.domElement.offsetTop,n=this.domElement.offsetLeft;if((t=this.domElement).offsetParent)for(;t=t.offsetParent;)e+=t.offsetTop,n+=t.offsetLeft;return{top:e,left:n}},Element.prototype.hasClass=function(t){return classList.hasClass(this.domElement,t)},Element.prototype.matchClass=function(t){return classList.matchClass(this.domElement,t)},Element.prototype.addClass=function(t){return classList.addClass(this.domElement,t),this},Element.prototype.removeClass=function(t){return classList.removeClass(this.domElement,t),this},Element.prototype.toggleClass=function(t){return classList.toggleClass(this.domElement,t),this},Element.prototype.replaceClass=function(t,e){return classList.replaceClass(this.domElement,t,e),this},Element.prototype.addTemporaryClass=function(t,e){return classList.addTemporaryClass(this.domElement,t,e),this},Element.prototype.getText=function(){return text.getText(this.domElement)},Element.prototype.setText=function(t){return text.setText(this.domElement,t),this},Element.prototype.getHTML=function(){return this.domElement.innerHTML},Element.prototype.setHTML=function(t){return this.domElement.innerHTML=t,this},Element.prototype.getStyle=function(t){return css.getStyle(this.domElement,t)},Element.prototype.getNumericStyle=function(t){return css.getNumericStyle(this.domElement,t)},Element.prototype.setStyle=function(t,e){return css.setStyle(this.domElement,t,e),this},Element.prototype.clearStyle=function(t){return css.clearStyle(this.domElement,t),this},Element.prototype.on=function(t,e,n){return event.on(this,t,e,n),this},Element.prototype.off=function(t,e){return event.off(this,t,e),this},Element.prototype.one=function(t,e,n){return event.one(this,t,e,n),this},Element.prototype.animate=function(){return this.anim||(this.anim=animate(this.domElement,!0)),this.anim},Element.prototype.getAttribute=function(t){return this.domElement.getAttribute(t)},Element.prototype.setAttribute=function(t,e){return this.domElement.setAttribute(t,e),this},Element.prototype.find=function(t){return module.exports(t,this)},Element.prototype.parent=function(t){return null==t&&(t=!0),t?new Element(this.domElement.parentNode):this.domElement.parentNode},Element.prototype.children=function(t){var e,n=this.domElement.childNodes,r=[];null==t&&(t=!0);for(var i=0,o=n.length;o>i;i++)e=n[i],e&&1===e.nodeType&&r.push(t?new Element(e):e);return r},Element.prototype.firstChild=function(t){return null==t&&(t=!0),t?new Element(this.domElement.firstChild):this.domElement.firstChild},Element.prototype.lastChild=function(t){return null==t&&(t=!0),t?new Element(this.domElement.lastChild):this.domElement.lastChild},Element.prototype.appendChild=function(t){return this.domElement.appendChild(t.domElement||t)},Element.prototype.removeChild=function(t){return this.domElement.removeChild(t.domElement||t)},Element.prototype.replaceChild=function(t,e){return this.domElement.replaceChild(t.domElement||t,e.domElement||e),e},Element.prototype.remove=function(){return this.parent().removeChild(this.domElement)},Element.prototype.insertBefore=function(t,e){return this.domElement.insertBefore(t.domElement||t,e.domElement||e)},Element.prototype.clone=function(t,e){return null==e&&(e=!0),e?new Element(this.domElement.clone(t)):this.domElement.clone(t)},Element.prototype.destroy=function(t){null==t&&(t=!1),event.offAll(this),null!=this.anim&&(this.anim.isRunning?this.anim.keep=!1:this.anim.destroy(),this.anim=null),t&&this.domElement.parentNode.removeChild(this.domElement),this.domElement=null;for(var e=0,n=elements.length;n>e;e++){elements[idx]===this&&elements.splice(e,1);break}};'),require.register("dom.ready/index",'function whenReady(){if(!isReady){isReady=!0;for(var t=0,e=readyCallbacks.length;e>t;t++)readyCallbacks[t]();readyCallbacks=null,scrollHackTimer&&clearTimeout(scrollHackTimer),doc.addEventListener?(doc.removeEventListener("DOMContentLoaded",whenReady,!1),win.removeEventListener("load",whenReady,!1)):(doc.detachEvent("onreadystatechange",whenReady),win.detachEvent("onload",whenReady))}}function scrollCheck(){if(!isReady){try{doc.documentElement.doScroll("left")}catch(t){return scrollHackTimer=setTimeout(scrollCheck,11),void 0}whenReady()}}var win=window,doc=win.document,scrollHackTimer=null,isReady=!1,initialized=!1,readyCallbacks=[];module.exports=function(t){readyCallbacks.push(t),initialized||("complete"===doc.readyState||"loaded"===doc.readyState?whenReady():doc.addEventListener?(doc.addEventListener("DOMContentLoaded",whenReady,!1),win.addEventListener("load",whenReady,!1)):doc.attachEvent&&(doc.attachEvent("onreadystatechange",whenReady),win.attachEvent("onload",whenReady),doc.documentElement.doScroll&&scrollCheck()),initialized=!0)};'),require.register("dom.select/index",'var objectUtils=require("util.object"),win=window,doc=win.document;doc.getElementsByClassName||(doc.getElementsByClassName=function(t,e){var n,r=doc.getElementsByTagName(e||"*"),i=RegExp("(?:^|\\\\s)"+t+"(?:\\\\s|$)"),o=[];if(!r.length)return!1;for(var s=0,l=r.length;l>s;s++)n=r[s],n.className.match(i)&&o.push(n);return o}),module.exports=function(t,e,n){var r,i;if(objectUtils.isElement(e)||(e=(null!=e?e.domElement:null)||doc),null!=e.querySelectorAll)r=e.querySelectorAll(t);else switch(t.charAt(0)){case"#":r=doc.getElementById(t.slice(1));break;case".":r=doc.getElementsByClassName(t.slice(1),n);break;default:-1!==t.indexOf(".")?(i=t.split("."),r=doc.getElementsByClassName(i[1],i[0])):r=e.getElementsByTagName(t)}if(r.length){for(var o=[],s=0,l=r.length;l>s;s++)o.push(r[s]);return o}return null};'),require.register("dom.text/index",'var textProp=null!=document.documentElement.textContent?"textContent":"innerText";exports.getText=function(t){return t[textProp]},exports.setText=function(t,e){return t[textProp]=e};'),require.register("env.capabilities/index",'var win=window,doc=win.document,nav=navigator;exports.hasVideo=function(){var t=!!doc.createElement("video").canPlayType;return exports.hasVideo=function(){return t},t},exports.hasFlash=function(){var t,e,n;if(null!=nav.plugins&&"object"===nav.plugins["Shockwave Flash"])t=nav.plugins["Shockwave Flash"].description,!t||null!=nav.mimeTypes&&nav.mimeTypes["application/x-shockwave-flash"]&&!nav.mimeTypes["application/x-shockwave-flash"].enabledPlugin||(n=parseInt(t.match(/^.*\\s+([^\\s]+)\\.[^\\s]+\\s+[^\\s]+$/)[1],10));else if(null!=win.ActiveXObject)try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),e&&(n=parseInt(e.GetVariable("$version").match(/^[^\\s]+\\s(\\d+)/)[1],10))}catch(r){}return exports.flashVersion=n,exports.hasFlash=function(){return exports.flashVersion>0},n>0},exports.flashVersion=0,exports.hasNativeFullscreen=function(){var t="function"==typeof doc.createElement("video").webkitEnterFullScreen;return exports.hasNativeFullscreen=function(){return t},t},exports.hasCanvas=function(){var t=doc.createElement("canvas"),e=!(!t.getContext||!t.getContext("2d"));return exports.hasCanvas=function(){return e},e},exports.hasTouch=function(){var t="ontouchstart"in win||win.DocumentTouch&&doc instanceof DocumentTouch;return exports.hasTouch=function(){return t},t};'),require.register("env.platform/index","var ua=navigator.userAgent;exports.isIE=function(){return!1}(),exports.isIPad=function(){return/ipad/i.test(ua)}(),exports.isIPhone=function(){return/iphone/i.test(ua)}(),exports.isIOS=function(){return exports.isIPhone||exports.isIPad||!1}(),exports.isMobileSafari=function(){return exports.isIPhone&&/safari/i.test(ua)}(),exports.iOSVersion=function(){var t;return t=navigator.userAgent.match(/os (\\d+)_/i),(null!=t?t[1]:void 0)?t[1]:void 0}(),exports.isAndroid=function(){return/android/i.test(ua)}(),exports.androidVersion=function(){var t;return t=navigator.userAgent.match(/android (\\d+)\\./i),(null!=t?t[1]:void 0)?t[1]:void 0}(),exports.isMobile=function(){return/mobile/i.test(ua)&&!exports.isIPad}();"),require.register("env.viewport/index","exports.getWidth=function(){return document.documentElement.clientWidth},exports.getHeight=function(){return document.documentElement.clientHeight};"),require.register("events.event/index",'function isValidElement(t){return!(!t||null==t.domElement&&t!==win&&9!==t.nodeType&&1!==t.nodeType)}function createHandler(t,e,n,r){return function(i){return r(new DomEvent(i,t,e,n))}}function removeCachedListener(t,e,n){for(var r,i=0,o=domListeners.length;o>i;i++)if(r=domListeners[i],(r.target.domElement===t.domElement||r.target===t)&&r.type===e&&r.callback===n)return domListeners.splice(i,1)[0]}function getType(t){if(capabilities.hasTouch())switch(t){case"mousedown":t="touchstart";break;case"mousemove":t="touchmove";break;case"mouseup":t="touchend"}return t}function Event(t,e,n){this.target=t,this.type=e,this.data=n}function DomEvent(t,e,n,r){if(this.type=n,this.data=r,this.domEvent=t||win.event,this.currentTarget=e,this.target=this.domEvent.target||this.domEvent.srcElement||win,3===this.target.nodeType&&(this.target=this.target.parentNode),this.target.domElement||1!==this.target.nodeType||(null==element&&(element=require("dom.element")),this.target=element(this.target)),this.rightClick=this.domEvent.which?3===this.domEvent.which:this.domEvent.button?2===this.domEvent.button:!1,this.leftClick=this.domEvent.which?1===this.domEvent.which:this.domEvent.button?0===this.domEvent.button||2===this.domEvent.button:!0,"mousedown"===this.type||"mousemove"===this.type)if(this.domEvent.touches?(this.touches=this.domEvent.touches,this.touches.length&&(this.pageX=this.touches[0].pageX,this.pageY=this.touches[0].pageY)):(this.pageX=null!=this.domEvent.pageX?this.domEvent.pageX:this.domEvent.clientX+doc.body.scrollLeft+doc.documentElement.scrollLeft,this.pageY=null!=this.domEvent.pageY?this.domEvent.pageY:this.domEvent.clientY+doc.body.scrollTop+doc.documentElement.scrollTop),null!=this.domEvent.offsetX&&null!=this.domEvent.offsetY&&0!==this.domEvent.offsetX&&0!==this.domEvent.offsetY)this.x=this.domEvent.offsetX,this.y=this.domEvent.offsetY;else if(null!=this.domEvent.x&&null!=this.domEvent.y)this.x=this.domEvent.x,this.y=this.domEvent.y;else{var i=this.target.domElement?this.target.position():{left:this.target.offsetLeft,top:this.target.offsetTop};this.x=this.pageX?this.pageX-i.left:0,this.y=this.pageY?this.pageY-i.top:0}}var platform=require("env.platform"),capabilities=require("env.capabilities"),win=window,doc=win.document,element=null,domListeners=[],id=0;exports.on=function(t,e,n,r){if(isValidElement(t)){var i=createHandler(t,e,r,n);i.id=id++,domListeners.push({target:t,type:e,handler:i,callback:n}),t.domElement&&(t=t.domElement),e=getType(e),t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)}else null==t._handlers&&(t._handlers={}),e in t._handlers||(t._handlers[e]=[]),t._handlers[e].push(n);return t},exports.one=function(t,e,n,r){var i;return exports.on(t,e,i=function(r){return n.call(null,r),exports.off(t,e,i)},r),t},exports.off=function(t,e,n){if(isValidElement(t)){var r;(r=removeCachedListener(t,e,n))&&(t.domElement&&(t=t.domElement),e=getType(e),t.removeEventListener?t.removeEventListener(e,r.handler,!1):t.detachEvent&&t.detachEvent("on"+e,r.handler))}else for(var i=t._handlers[e],o=0,s=i.length;s>o;o++)if(n===i[o]){t.handlers.splice(o,1);break}return t},exports.offAll=function(t){if(isValidElement(t))for(var e,n=0,r=domListeners.length;r>n;n++)e=domListeners[n],t===(e.target.domElement||e.target)&&exports.off(e.target,e.type,e.callback);else t._handlers=null;return t},exports.trigger=function(t,e,n){var r,i;if(!isValidElement(t)&&t._handlers&&e in t._handlers){if(i=t._handlers[e].slice(),r=new Event(t,e,n),1==i.length)i[0].call(t,r);else for(var o=0,s=i.length;s>o;o++)i[o].call(t,r);return t}},exports.dispatcher=function(t){isValidElement(t)||(t.on=function(t,e){return exports.on(this,t,e)},t.off=function(t,e){return exports.off(this,t,e)},t.one=function(t,e){return exports.one(this,t,e)},t.trigger=function(t,e){return exports.trigger(this,t,e)})},DomEvent.prototype.preventDefault=function(){return this.domEvent.preventDefault?this.domEvent.preventDefault():this.domEvent.returnValue=!1},DomEvent.prototype.stopPropagation=function(){return this.domEvent.stopPropagation?this.domEvent.stopPropagation():this.domEvent.cancelBubble=!0},DomEvent.prototype.stop=function(){this.preventDefault(),this.stopPropagation()},null!=win&&win.attachEvent&&!win.addEventListener&&win.attachEvent("onunload",function(){for(var t,e=0,n=domListeners.length;n>e;e++){t=domListeners[e];try{exports.off(t.target,t.type,t.callback)}catch(r){}}});'),require.register("browser.lib/index",'exports.util={polyfill:require("util.polyfill"),animate:require("util.animate"),colour:require("util.colour"),easing:require("util.easing"),log:require("util.log"),number:require("util.number"),object:require("util.object")},exports.dom={classlist:require("dom.classlist"),css:require("dom.css"),element:require("dom.element"),ready:require("dom.ready"),select:require("dom.select"),text:require("dom.text")},exports.environment={capabilities:require("env.capabilities"),platform:require("env.platform"),viewport:require("env.viewport")},exports.events={event:require("events.event")};');
